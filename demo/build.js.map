{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","demo/demo.js","ajax-overlay.js","overlay.js"],"names":[],"mappings":"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","file":"build.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import AjaxOverlay from '../ajax-overlay';\n\nlet overlay = new AjaxOverlay();\n\ndocument.querySelector('.js-overlay-toggle').addEventListener('click', e => {\n  e.preventDefault();\n  console.log('hey');\n  overlay.render(`\n    <h2>This is a HTML string rendered inside the overlay</h2>\n    <p>It's not neccessary to render from JS, you can also just render static content and use the overlay module as a show / hide toggle.</p>\n    <p>Or you could use a template rendering engine like <a href=\"http://handlebarsjs.com/\">Handlebars</a></p>\n  `);\n});\n","import Overlay from './overlay';\n\nexport default class AjaxOverlay extends Overlay {\n  constructor (el, options = { selectors: {}, states: {} }) {\n    if (!options.selectors.fetch) {\n      options.selectors.fetch = '.js-overlay-fetch';\n    }\n\n    super(el, options);\n  }\n\n  bind () {\n    super.bind();\n\n    this.bindDelegate('click', this.options.selectors.fetch, (e, matchingElement) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      let href = matchingElement.getAttribute('href');\n\n      // Automatically load href attribute if it's on the trigger element\n      if (!!href && href.length > 1) {\n        this.fetch(href);\n      }\n    });\n  }\n\n  // Fetch HTML from an URL and render it inside the overlay\n  // @param {String}  url   Not supporting CORS properly, so try using relative paths altogether\n  fetch (url) {\n    let xhr = new XMLHttpRequest();\n\n    xhr.open('GET', url, true);\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState !== 4 || xhr.status !== 200) {\n        return false;\n      }\n\n      // Expects HTML as responseText\n      this.render(xhr.responseText);\n      this.show();\n    }\n\n    xhr.send();\n  }\n}","export default class Overlay {\n\n  // @constructor\n  // @param {HTMLElement} el\n  // @param {Object}      options\n  constructor (el = document.getElementsByClassName('js-overlay')[0], options = { selectors: {}, states: {} }) {\n    this.el = el;\n\n    this.options = {\n      selectors: {\n        content: '.js-overlay-content',\n        hide: '.js-overlay-hide',\n        show: '.js-overlay-show',\n        toggle: '.js-overlay-toggle'\n      },\n      states: {\n        hidden: 'is-hidden',\n        shown: 'is-shown'\n      }\n    };\n\n    // Merge provided selectors\n    for (let selector in options.selectors) {\n      if (options.selectors.hasOwnProperty(selector)) {\n        this.options.selectors[selector] = options.selectors[selector];\n      }\n    }\n\n    // Merge provided states\n    for (let state in options.states) {\n      if (options.states.hasOwnProperty(state)) {\n        this.options.states[state] = options.states[state];\n      }\n    }\n\n    this.init().bind();\n  }\n\n  // Initial setup\n  init () {\n    return this;\n  }\n\n  // Bind event handlers to certain DOM elements, specified through\n  bind () {\n    this.bindDelegate('click', this.options.selectors.show, e => {\n      e.preventDefault();\n      this.show();\n    });\n\n    this.bindDelegate('click', this.options.selectors.hide, e => {\n      e.preventDefault();\n      this.hide();\n    });\n\n    this.bindDelegate('click', this.options.selectors.toggle, e => {\n      e.preventDefault();\n      this.toggle();\n    });\n\n    return this;\n  }\n\n  // Helper method to support clicks on elements that don't exist yet\n  // @param {String}    evt       Event to listen for\n  // @param {String}    selector  Element selector that triggers the event\n  // @param {Function}  handler   Callback method\n  bindDelegate (evt, selector, handler) {\n    let matches = document.body.matches || document.body.webkitMatchesSelector || document.body.msMatchesSelector;\n\n    // Listen to all events of type evt\n    document.body.addEventListener(evt, e => {\n      // If e.target matches the specified selector or is a child element\n      if (!!matches.call(e.target, `${selector}, ${selector} *`)) {\n        // Find the actual element that matches the selector\n        let matchingElement = e.target;\n        while (!matches.call(matchingElement, selector)) {\n          matchingElement = matchingElement.parentNode;\n        }\n\n        // Execute handler, pass on the Event object\n        // and have the matching element as the second argument\n        handler(e, matchingElement);\n      }\n    }, false);\n  }\n\n  // Show the overlay\n  show () {\n    let regex = new RegExp(\"\\\\s*\" + this.options.states.hidden + \"\\\\s*\", 'gi'); // Template string not working because of reasons\n    this.el.className = this.el.className.replace(regex, '') + ' ' + this.options.states.shown;\n  }\n\n  // Hide the overlay\n  hide () {\n    let regex = new RegExp(\"\\\\s*\" + this.options.states.shown + \"\\\\s*\", 'gi'); // Template string not working because of reasons\n    this.el.className = this.el.className.replace(regex, '') + ' ' + this.options.states.hidden;\n  }\n\n  // Toggle the overlay\n  toggle () {\n    if (this.el.className.indexOf(this.options.states.shown) === -1) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  }\n\n  // Render HTML inside the content selector\n  render (html) {\n    this.el.querySelector(this.options.selectors.content).innerHTML = html;\n  }\n}\n"]}