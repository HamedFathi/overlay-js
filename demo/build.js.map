{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","demo/demo.js","src/ajax-overlay.js","src/overlay.js","src/router.js"],"names":[],"mappings":"AAAA;;;;;8BCAwB,qBAAqB;;;;AAE7C,IAAI,OAAO,GAAG,iCAAiB,CAAC;;AAEhC,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAA,CAAC,EAAI;AAC1E,GAAC,CAAC,cAAc,EAAE,CAAC;AACnB,SAAO,CAAC,MAAM,wUAIZ,CAAC;CACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;uBCXiB,WAAW;;;;sBACZ,UAAU;;;;IAER,WAAW;AAClB,WADO,WAAW,CACjB,EAAE,EAA2C;;;QAAzC,OAAO,gCAAG,EAAE,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE;;0BADrC,WAAW;;AAE5B,QAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE;AAC5B,aAAO,CAAC,SAAS,CAAC,KAAK,GAAG,mBAAmB,CAAC;KAC/C;;AAED,+BANiB,WAAW,6CAMtB,EAAE,EAAE,OAAO,EAAE;;AAEnB,QAAI,CAAC,MAAM,GAAG,wBAAW;AACvB,SAAG,EAAE,aAAC,KAAK,EAAK;AAAE,eAAK,cAAc,CAAC,KAAK,CAAC,CAAA;OAAE;KAC/C,CAAC,CAAC;GACJ;;YAXkB,WAAW;;eAAX,WAAW;;WAazB,gBAAG;AACN,iCAdiB,WAAW,sCAcf;;AAEb,aAAO,IAAI,CAAC;KACb;;;WAEI,gBAAG;;;AACN,iCApBiB,WAAW,sCAoBf;;AAEb,UAAI,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,UAAC,CAAC,EAAE,eAAe,EAAK;AAC/E,SAAC,CAAC,cAAc,EAAE,CAAC;AACnB,SAAC,CAAC,eAAe,EAAE,CAAC;;AAEpB,YAAI,IAAI,GAAG,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;;;AAGhD,YAAI,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AAC7B,iBAAK,KAAK,CAAC,IAAI,CAAC,CAAC;SAClB;OACF,CAAC,CAAC;;AAEH,aAAO,IAAI,CAAC;KACb;;;;;;WAIK,eAAC,GAAG,EAAE;;;AACV,UAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;;AAE/B,SAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;;AAE3B,SAAG,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC;;AAE3D,SAAG,CAAC,kBAAkB,GAAG,YAAM;AAC7B,YAAI,GAAG,CAAC,UAAU,KAAK,CAAC,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;AAC9C,iBAAO,KAAK,CAAC;SACd;;;;AAID,YAAI,KAAK,GAAG,wBAAwB,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;;AAE5D,YAAI,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE;AAClB,eAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;SAClB,MAAM;AACL,eAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;SACxB;;;AAGD,eAAK,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AAC9B,eAAK,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;OACvB,CAAA;;AAED,SAAG,CAAC,IAAI,EAAE,CAAC;KACZ;;;;;;;;WAMI,gBAAoC;UAAnC,GAAG,gCAAG,EAAE;UAAE,KAAK,gCAAG,EAAE;UAAE,IAAI,gCAAG,IAAI;;AACrC,UAAI,2BA1Ea,WAAW,yCA0ER,CAAC,CAAC,IAAI,EAAE;AAC1B,YAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;OACtD;KACF;;;;;;WAII,gBAAc;UAAb,IAAI,gCAAG,IAAI;;AACf,UAAI,2BAlFa,WAAW,yCAkFR,CAAC,CAAC,IAAI,EAAE;AAC1B,YAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;OACxB;KACF;;;;;;WAIc,wBAAC,KAAK,EAAE;AACrB,UAAI,CAAC,CAAC,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AAC3C,gBAAQ,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;OAC9B;;AAED,UAAI,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE;AAC5B,YAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;OAC1C,MAAM;AACL,YAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;OAClB;KACF;;;SAnGkB,WAAW;;;qBAAX,WAAW;;;;;;;;;;;;;;ICHX,OAAO;;;;;;AAKd,WALO,OAAO,GAKmF;QAAhG,EAAE,gCAAG,QAAQ,CAAC,sBAAsB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;QAAE,OAAO,gCAAG,EAAE,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE;;0BALxF,OAAO;;AAMxB,QAAI,CAAC,EAAE,GAAG,EAAE,CAAC;;AAEb,QAAI,CAAC,OAAO,GAAG;AACb,eAAS,EAAE;AACT,eAAO,EAAE,qBAAqB;AAC9B,YAAI,EAAE,kBAAkB;AACxB,YAAI,EAAE,kBAAkB;AACxB,cAAM,EAAE,oBAAoB;OAC7B;AACD,YAAM,EAAE;AACN,cAAM,EAAE,WAAW;AACnB,aAAK,EAAE,UAAU;OAClB;KACF,CAAC;;;AAGF,SAAK,IAAI,QAAQ,IAAI,OAAO,CAAC,SAAS,EAAE;AACtC,UAAI,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;AAC9C,YAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;OAChE;KACF;;;AAGD,SAAK,IAAI,KAAK,IAAI,OAAO,CAAC,MAAM,EAAE;AAChC,UAAI,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;AACxC,YAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;OACpD;KACF;;AAED,QAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;GACpB;;eApCkB,OAAO;;;;WAuCrB,gBAAG;AACN,aAAO,IAAI,CAAC;KACb;;;;;WAGI,gBAAG;;;AACN,cAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAA,CAAC,EAAI;AAC3C,YAAI,CAAC,CAAC,OAAO,KAAK,EAAE,EAAE;AACpB,gBAAK,IAAI,EAAE,CAAC;SACb;OACF,CAAC,CAAC;;AAEH,UAAI,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE,UAAA,CAAC,EAAI;AAC3D,SAAC,CAAC,cAAc,EAAE,CAAC;AACnB,cAAK,IAAI,EAAE,CAAC;OACb,CAAC,CAAC;;AAEH,UAAI,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE,UAAA,CAAC,EAAI;AAC3D,SAAC,CAAC,cAAc,EAAE,CAAC;AACnB,cAAK,IAAI,EAAE,CAAC;OACb,CAAC,CAAC;;AAEH,UAAI,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,EAAE,UAAA,CAAC,EAAI;AAC7D,SAAC,CAAC,cAAc,EAAE,CAAC;AACnB,cAAK,MAAM,EAAE,CAAC;OACf,CAAC,CAAC;;AAEH,aAAO,IAAI,CAAC;KACb;;;;;;;;WAMY,sBAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,EAAE;AACpC,UAAI,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,qBAAqB,IAAI,QAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC;;;AAG9G,cAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,UAAA,CAAC,EAAI;;AAEvC,YAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,OAAK,QAAQ,UAAK,QAAQ,QAAK,EAAE;;AAE1D,cAAI,eAAe,GAAG,CAAC,CAAC,MAAM,CAAC;AAC/B,iBAAO,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,EAAE,QAAQ,CAAC,EAAE;AAC/C,2BAAe,GAAG,eAAe,CAAC,UAAU,CAAC;WAC9C;;;;AAID,iBAAO,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;SAC7B;OACF,EAAE,KAAK,CAAC,CAAC;KACX;;;;;WAGI,gBAAG;AACN,UAAI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;AAC/D,eAAO,KAAK,CAAC;OACd;;AAED,UAAI,KAAK,GAAG,IAAI,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,EAAE,IAAI,CAAC,CAAC;AAC3E,UAAI,CAAC,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC;AAC3F,aAAO,IAAI,CAAC;KACb;;;;;WAGI,gBAAG;AACN,UAAI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;AAChE,eAAO,KAAK,CAAC;OACd;;AAED,UAAI,KAAK,GAAG,IAAI,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,GAAG,MAAM,EAAE,IAAI,CAAC,CAAC;AAC1E,UAAI,CAAC,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC;AAC5F,aAAO,IAAI,CAAC;KACb;;;;;WAGM,kBAAG;AACR,UAAI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;AAC/D,YAAI,CAAC,IAAI,EAAE,CAAC;OACb,MAAM;AACL,YAAI,CAAC,IAAI,EAAE,CAAC;OACb;KACF;;;;;WAGM,gBAAC,IAAI,EAAE;AACZ,UAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;KACxE;;;SA/HkB,OAAO;;;qBAAP,OAAO;;;;;;;;;;;;;;ICAP,MAAM;AACb,WADO,MAAM,CACZ,QAAQ,EAAE;0BADJ,MAAM;;AAEvB,QAAI,CAAC,WAAW,GAAI,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,SAAS,AAAC,CAAC;AACtD,QAAI,CAAC,IAAI,GAAG,EAAE,CAAC;;AAEf,QAAI,CAAC,QAAQ,GAAG;AACd,SAAG,EAAE,QAAQ,CAAC,GAAG,IAAK,YAAY,EAAE,AAAC;KACtC,CAAC;;AAEF,QAAI,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;GACpB;;eAVkB,MAAM;;WAYpB,gBAAG;AACN,UAAI,CAAC,IAAI,GAAG;AACV,WAAG,EAAE,MAAM,CAAC,QAAQ,CAAC,QAAQ;AAC7B,aAAK,EAAE,QAAQ,CAAC,KAAK;OACtB,CAAC;;AAEF,UAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;AACxD,aAAO,IAAI,CAAC;KACb;;;WAEI,gBAAG;;;AACN,YAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,UAAA,CAAC,EAAI;AACvC,cAAK,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;OAC5B,CAAC,CAAC;;AAEH,aAAO,IAAI,CAAC;KACb;;;WAEI,cAAC,GAAG,EAAc;UAAZ,KAAK,gCAAG,EAAE;;AACnB,UAAI,IAAI,CAAC,WAAW,EAAE;AACpB,aAAK,CAAC,GAAG,GAAG,GAAG,CAAC;AAChB,aAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC;;AAEhC,YAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AAC1B,kBAAQ,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;SAC9B;;AAED,cAAM,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;OACnD;KACF;;;WAEO,iBAAC,GAAG,EAAc;UAAZ,KAAK,gCAAG,EAAE;;AACtB,UAAI,IAAI,CAAC,WAAW,EAAE;AACpB,aAAK,CAAC,GAAG,GAAG,GAAG,CAAC;AAChB,aAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC;;AAEhC,YAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AAC1B,kBAAQ,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;SAC9B;;AAED,cAAM,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;OACtD;KACF;;;WAEQ,oBAAG;AACV,UAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;KAC1E;;;SA1DkB,MAAM;;;qBAAN,MAAM","file":"build.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import AjaxOverlay from '../src/ajax-overlay';\n\nlet overlay = new AjaxOverlay();\n\ndocument.querySelector('.js-overlay-toggle').addEventListener('click', e => {\n  e.preventDefault();\n  overlay.render(`\n    <h2>This is a HTML string rendered inside the overlay</h2>\n    <p>It's not neccessary to render from JS, you can also just render static content and use the overlay module as a show / hide toggle.</p>\n    <p>Or you could use a template rendering engine like <a href=\"http://handlebarsjs.com/\">Handlebars</a></p>\n  `);\n});\n","import Overlay from './overlay';\nimport Router from './router';\n\nexport default class AjaxOverlay extends Overlay {\n  constructor (el, options = { selectors: {}, states: {} }) {\n    if (!options.selectors.fetch) {\n      options.selectors.fetch = '.js-overlay-fetch';\n    }\n\n    super(el, options);\n\n    this.router = new Router({\n      pop: (state) => { this.handleRoutePop(state) }\n    });\n  }\n\n  init () {\n    super.init();\n\n    return this;\n  }\n\n  bind () {\n    super.bind();\n\n    this.bindDelegate('click', this.options.selectors.fetch, (e, matchingElement) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      let href = matchingElement.getAttribute('href');\n\n      // Automatically load href attribute if it's on the trigger element\n      if (!!href && href.length > 1) {\n        this.fetch(href);\n      }\n    });\n\n    return this;\n  }\n\n  // Fetch HTML from an URL and render it inside the overlay\n  // @param {String}  url   Not supporting CORS properly, so try using relative paths altogether\n  fetch (url) {\n    let xhr = new XMLHttpRequest();\n\n    xhr.open('GET', url, true);\n\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState !== 4 || xhr.status !== 200) {\n        return false;\n      }\n\n      // If the <title> tag is present in the responseText\n      // use that as the title in the browser / history\n      let title = /<title>(.*)<\\/title>/gi.exec(xhr.responseText);\n\n      if (!!title.length) {\n        title = title[1];\n      } else {\n        title = document.title;\n      }\n\n      // Expects HTML as responseText\n      this.render(xhr.responseText);\n      this.show(url, title);\n    }\n\n    xhr.send();\n  }\n\n  // Show overlay\n  // @param {String}  url     URL to keep in the browser history\n  // @param {String}  title   Title to associate with the URL in the browser history\n  // @param {Bool}    push    Push to browser history?\n  show (url = '', title = '', push = true) {\n    if (super.show() && !!push) {\n      this.router.push(url, { title: title, shown: true });\n    }\n  }\n\n  // Hide overlay\n  // @param {Bool}    push    Push to browser history?\n  hide (push = true) {\n    if (super.hide() && !!push) {\n      this.router.pushRoot();\n    }\n  }\n\n  // Handle browser popstate event\n  // @param {Object} state  The state object associated with the popstate event\n  handleRoutePop (state) {\n    if (!!state.title && state.title.length > 0) {\n      document.title = state.title;\n    }\n\n    if (!!state && !!state.shown) {\n      this.show(state.url, state.title, false);\n    } else {\n      this.hide(false);\n    }\n  }\n}\n","export default class Overlay {\n\n  // @constructor\n  // @param {HTMLElement} el\n  // @param {Object}      options\n  constructor (el = document.getElementsByClassName('js-overlay')[0], options = { selectors: {}, states: {} }) {\n    this.el = el;\n\n    this.options = {\n      selectors: {\n        content: '.js-overlay-content',\n        hide: '.js-overlay-hide',\n        show: '.js-overlay-show',\n        toggle: '.js-overlay-toggle'\n      },\n      states: {\n        hidden: 'is-hidden',\n        shown: 'is-shown'\n      }\n    };\n\n    // Merge provided selectors\n    for (let selector in options.selectors) {\n      if (options.selectors.hasOwnProperty(selector)) {\n        this.options.selectors[selector] = options.selectors[selector];\n      }\n    }\n\n    // Merge provided states\n    for (let state in options.states) {\n      if (options.states.hasOwnProperty(state)) {\n        this.options.states[state] = options.states[state];\n      }\n    }\n\n    this.init().bind();\n  }\n\n  // Initial setup\n  init () {\n    return this;\n  }\n\n  // Bind event handlers to certain DOM elements, specified through\n  bind () {\n    document.body.addEventListener('keyup', e => {\n      if (e.keyCode === 27) {\n        this.hide();\n      }\n    });\n\n    this.bindDelegate('click', this.options.selectors.show, e => {\n      e.preventDefault();\n      this.show();\n    });\n\n    this.bindDelegate('click', this.options.selectors.hide, e => {\n      e.preventDefault();\n      this.hide();\n    });\n\n    this.bindDelegate('click', this.options.selectors.toggle, e => {\n      e.preventDefault();\n      this.toggle();\n    });\n\n    return this;\n  }\n\n  // Helper method to support clicks on elements that don't exist yet\n  // @param {String}    evt       Event to listen for\n  // @param {String}    selector  Element selector that triggers the event\n  // @param {Function}  handler   Callback method\n  bindDelegate (evt, selector, handler) {\n    let matches = document.body.matches || document.body.webkitMatchesSelector || document.body.msMatchesSelector;\n\n    // Listen to all events of type evt\n    document.body.addEventListener(evt, e => {\n      // If e.target matches the specified selector or is a child element\n      if (!!matches.call(e.target, `${selector}, ${selector} *`)) {\n        // Find the actual element that matches the selector\n        let matchingElement = e.target;\n        while (!matches.call(matchingElement, selector)) {\n          matchingElement = matchingElement.parentNode;\n        }\n\n        // Execute handler, pass on the Event object\n        // and have the matching element as the second argument\n        handler(e, matchingElement);\n      }\n    }, false);\n  }\n\n  // Show the overlay\n  show () {\n    if (this.el.className.indexOf(this.options.states.shown) !== -1) {\n      return false;\n    }\n\n    let regex = new RegExp(\"\\\\s*\" + this.options.states.hidden + \"\\\\s*\", 'gi'); // Template string not working because of reasons\n    this.el.className = this.el.className.replace(regex, '') + ' ' + this.options.states.shown;\n    return true;\n  }\n\n  // Hide the overlay\n  hide () {\n    if (this.el.className.indexOf(this.options.states.hidden) !== -1) {\n      return false;\n    }\n\n    let regex = new RegExp(\"\\\\s*\" + this.options.states.shown + \"\\\\s*\", 'gi'); // Template string not working because of reasons\n    this.el.className = this.el.className.replace(regex, '') + ' ' + this.options.states.hidden;\n    return true;\n  }\n\n  // Toggle the overlay\n  toggle () {\n    if (this.el.className.indexOf(this.options.states.shown) === -1) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  }\n\n  // Render HTML inside the content selector\n  render (html) {\n    this.el.querySelector(this.options.selectors.content).innerHTML = html;\n  }\n}\n","export default class Router {\n  constructor (handlers) {\n    this.isSupported = (!!history && !!history.pushState);\n    this.root = {};\n\n    this.handlers = {\n      pop: handlers.pop || (function () {})\n    };\n\n    this.init().bind();\n  }\n\n  init () {\n    this.root = {\n      url: window.location.pathname,\n      title: document.title\n    };\n\n    this.replace(this.root.url, { title: this.root.title });\n    return this;\n  }\n\n  bind () {\n    window.addEventListener('popstate', e => {\n      this.handlers.pop(e.state);\n    });\n\n    return this;\n  }\n\n  push (url, state = {}) {\n    if (this.isSupported) {\n      state.url = url;\n      state.title = state.title || '';\n\n      if (state.title.length > 0) {\n        document.title = state.title;\n      }\n\n      window.history.pushState(state, state.title, url);\n    }\n  }\n\n  replace (url, state = {}) {\n    if (this.isSupported) {\n      state.url = url;\n      state.title = state.title || '';\n\n      if (state.title.length > 0) {\n        document.title = state.title;\n      }\n\n      window.history.replaceState(state, state.title, url);\n    }\n  }\n\n  pushRoot () {\n    this.push(this.root.url, { url: this.root.url, title: this.root.title });\n  }\n}"]}